@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: dark;
    font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    /* background-color: #000000; */
    --spotify-green: #1db954;
    --spotify-dark: #121212;
    --spotify-darker: #0a0a0a;
    --spotify-gray: #181818;
  }

  body {
    @apply min-h-screen bg-black text-white antialiased;
    margin: 0;
  }

  ::selection {
    background-color: var(--spotify-green);
    color: #000000;
  }

  #app {
    @apply min-h-screen;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 4px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.08);
    border-radius: 2px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.15);
  }
}

@layer components {
  .spotify-sidebar {
    background-color: var(--spotify-darker);
  }

  .spotify-main {
    background-color: var(--spotify-dark);
  }

  .spotify-player {
    background-color: var(--spotify-gray);
    border-top: 1px solid rgba(255, 255, 255, 0.05);
  }

  .drag-handle {
    -webkit-app-region: drag;
    app-region: drag;
  }

  .no-drag {
    -webkit-app-region: no-drag;
    app-region: no-drag;
  }

  .spotify-card {
    @apply bg-[#181818] rounded-lg p-4 transition-all duration-200 hover:bg-[#282828] cursor-pointer;
    outline: none;
  }

  .spotify-card--active {
    @apply bg-[#282828] ring-1 ring-white/10;
  }

  .spotify-list-item {
    @apply px-3 py-1.5 rounded-md transition-all duration-150 cursor-pointer;
  }

  .spotify-list-item--active {
    @apply bg-white/10;
  }

  .spotify-button {
    @apply rounded-full px-4 py-2 text-sm font-semibold transition-all duration-200 hover:scale-105 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
  }

  .spotify-button--primary {
    background-color: var(--spotify-green);
    @apply text-black hover:brightness-110;
  }

  .spotify-button--secondary {
    @apply bg-white/10 text-white hover:bg-white/20;
  }

  .spotify-icon-button {
    @apply w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 hover:bg-white/10 text-white/70 hover:text-white active:scale-95;
  }

  .pulse-glow {
    @apply animate-pulse-glow;
  }

  .animate-fade-in {
    @apply animate-fade-in;
  }

  .animate-slide-up {
    @apply animate-slide-up;
  }

  .animate-slide-down {
    @apply animate-slide-down;
  }

  .animate-scale-in {
    @apply animate-scale-in;
  }

  .shimmer {
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
    background-size: 200% 100%;
    @apply animate-shimmer;
  }

  .dragging {
    @apply opacity-50 scale-105;
  }

  .drag-over {
    @apply ring-2 ring-spotify-green ring-offset-2 ring-offset-spotify-dark;
  }

  *:focus-visible {
    @apply outline-none ring-2 ring-spotify-green ring-offset-2 ring-offset-spotify-dark;
  }

  [title] {
    position: relative;
  }

  .gradient-text {
    @apply bg-spotify-gradient bg-clip-text text-transparent;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .scroll-mask-top {
    mask-image: linear-gradient(to bottom, transparent 0%, black 5%);
    -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 5%);
  }

  .scroll-mask-bottom {
    mask-image: linear-gradient(to top, transparent 0%, black 5%);
    -webkit-mask-image: linear-gradient(to top, transparent 0%, black 5%);
  }

  .scroll-mask-both {
    mask-image: linear-gradient(to bottom, transparent 0%, black 5%, black 95%, transparent 100%);
    -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 5%, black 95%, transparent 100%);
  }
}

@layer utilities {
  /* Global transition defaults - excluding width to prevent progress bar jitter */
  *:not([role="progressbar"] *) {
    transition-property: background-color, border-color, color, fill, stroke, opacity, box-shadow, transform;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Progress bar should not have transitions to prevent jitter */
  [role="progressbar"] *,
  [role="progressbar"] {
    transition: none !important;
  }
}
